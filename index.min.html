<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>Bookmarklet Compiler</title><meta name="author" content="Harry Wong"><style>html{font-family:Arial,Helvetica,sans-serif;}body{margin:10px auto;max-width:1000px;width:98%;}textarea{width:100%;word-break:break-all;}a{color:blue;}a[href="#"]{color:grey;cursor:default;pointer-events:none;}</style></head><body><h1>Bookmarklet Compiler</h1><p>Does not validate JavaScript code; incorrect JavaScript code may lead to unexpected results.</p><h2>JavaScript</h2><p><label for="code-javascript">Enter/Paste JavaScript code in the text box below.</label></p><div><textarea id="code-javascript" rows="9"></textarea></div><h2>Bookmarklet</h2><div><label title="Collapses all whitespace, including those inside strings"><input id="checkbox-collapse-whitespace" type="checkbox" checked> Collapse whitespace</label> <label><input id="checkbox-wrap-in-anonymous-function" type="checkbox" checked> Wrap in anonymous function</label> <label><input id="checkbox-uri-encode" type="checkbox" checked> URI-encode specific characters ((Space), ", #, %, &amp;, &lt;, &gt;, ?, @)</label></div><p><label for="code-bookmarklet">Copy bookmarklet code from the text box below</label> or <span id="instruction-drag-bookmarklet">drag the below bookmarklet to your bookmarks.</span></p><div><textarea id="code-bookmarklet" rows="9" readonly></textarea></div><div><input id="button-copy-bookmarklet" type="button" value="Copy"></div><p><a id="anchor-bookmarklet" href="#">Bookmarklet</a></p><script>var e=document.getElementById("code-javascript"),t=document.getElementById("checkbox-collapse-whitespace"),n=document.getElementById("checkbox-wrap-in-anonymous-function"),c=document.getElementById("checkbox-uri-encode"),d=document.getElementById("code-bookmarklet"),o=document.getElementById("anchor-bookmarklet"),a=document.getElementById("button-copy-bookmarklet"),i=document.getElementById("instruction-drag-bookmarklet"),r=function(){var i=e.value.trim();i?(t.checked&&(i=(i=(i=i.replace(/\s+/g," ")).replace(/\s(\W)/g,"$1")).replace(/(\W)\s/g,"$1")),n.checked&&(i="(function(){"+i+"})()"),c.checked&&(i=i.replace(/[ "#%&<>?@]/g,escape)),i="javascript:"+i,o.href=d.value=i,a.disabled=!1):(d.value="",o.href="#",a.disabled=!0)},l=function(){d.select(),d.focus()};e.addEventListener("input",r),t.addEventListener("change",r),n.addEventListener("change",r),c.addEventListener("change",r),d.addEventListener("focus",l),o.addEventListener("click",function(e){e.preventDefault()}),a.addEventListener("click",function(){l(),document.execCommand("copy")}),i.addEventListener("click",function(){o.focus()}),r();</script></body></html>